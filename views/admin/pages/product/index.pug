extends ../../layouts/default.pug

block main
    h1.text-center.my-4 Product List

    .card.mb-3
        .card-header Filter and Search
        .card-body
            .row
                .col-6
                    each item in filterStatus
                        button(class=`btn btn-sm ml-1 btn-outline-success ${item.class}` button-status=item.status) #{item.name}
                .col-6
                    form(id="form-search")
                        .input-group
                            //- "value=keyword" used to preserve the entered keyword after reloading the page
                            input(
                                type="text",
                                placeholder="Enter keyword",
                                name="keyword",
                                class="form-control",
                                value=keyword
                            )
                            .input-group-append
                                button(
                                    class="btn btn-success",
                                    type="submit"
                                ) Search

    //- Always display the table, regardless of whether there are results or not
    table.table.table-bordered.table-striped
        thead
            tr
                th No.
                th Image
                th Title
                th Price
                th Status
                th Actions
        tbody
            if products.length > 0
                //- Loop through products and display each item
                each item, index in products
                    tr
                        td #{index + 1}
                        td
                            img(
                                class="item-thumbnail",
                                src=item.thumbnail,
                                alt=item.title,
                                width="100px",
                                height="auto"
                            )
                        td #{item.title}
                        td #{item.price}$
                        td
                            if item.status == "active"
                                a(href="#" class="badge badge-success") Active
                            else
                                a(href="#" class="badge badge-danger") Inactive
                        td
                            button(class="btn btn-warning btn-sm") Edit
                            button(class="btn btn-danger btn-sm ml-1") Delete
            else
                //- If no products are found, display a message in a single row spanning all columns
                tr
                    td(colspan="6" class="text-center text-danger fw-bold") No results found
